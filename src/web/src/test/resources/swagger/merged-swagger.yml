paths:
  /login:
    post:
      tags:
        - Authentication
      summary: "Login with a username and password to get a JWT access token"
      description: "Login with a username and password to get a JWT access token.\
        \ This JWT access token allows a client to access\n other authenticated endpoints.\
        \ If the JWT access token expires, the client has to do a re-login (At the\
        \ moment\n there is no refresh token)."
      operationId: login
      parameters: []
      requestBody:
        description: Login with the username and password
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountLoginDto'
        required: true
      responses:
        "200":
          description: Login token
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/AccessTokenDto'
        "401":
          description: Invalid login
        "500":
          description: Internal server error
components:
  schemas:
    AccessTokenDto:
      required:
        - username
        - access_token
        - token_type
        - expires_in
      type: object
      properties:
        username:
          type: string
          description: Username of the logged in user
        access_token:
          type: string
          description: JWT access token formatted according to RFC 7519
        token_type:
          type: string
          description: "Type of the token, in this case always 'Bearer'"
          default: Bearer
        expires_in:
          type: integer
          description: Number of seconds how long the token is valid
          format: int32
      description: Represents a JWT access token
    AccountLoginDto:
      required:
        - username
        - password
      type: object
      properties:
        username:
          type: string
          description: Username of the account
        password:
          type: string
          description: Password for the account
      description: Username and password to login to get the JWT access token
